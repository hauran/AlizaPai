(function(){var e;e={},e.HOME_PAGE="landing",e.BaseView=Backbone.View.extend({}),e.BaseModel=Backbone.Model.extend({}),e.PageModel=e.BaseModel.extend({}),e.AjaxCall=function(e,t,n,r,i){return $.ajax({url:e,data:t,cache:!1,dataType:n,type:r,success:i})},e.PageView=e.BaseView.extend({el:$("body"),events:{"click .nav-link":"linkClick","submit form.post-form":"postForm"},linkClick:function(t){var n,r;return t.preventDefault(),n=$(t.target),r=n.data("href"),r==null&&(r=n.closest(".nav-link").data("href")),r==null&&(r=t.target.pathname||t.currentTarget.pathname,t.target.search&&(r+=t.target.search)),_.isUndefined(r)&&(r="/"),e.pageRouter.navigate(r,{trigger:!0,replace:!1})},postForm:function(t){var n,r;return t.preventDefault(),r=$(t.target).attr("action"),n=$(t.target).serializeJSON(),e.AjaxCall(r,n,"json","POST",function(t){return console.log(t),e.pageRouter.navigate(t.action,{trigger:!0,replace:!0})})}}),e.PageRouter=Backbone.Router.extend({routes:{"*action":"fetchContent"},templateName:"",routerPageView:{},initialize:function(){var t;return t=new e.PageModel,this.routerPageView=new e.PageView({model:t})},fetchContent:function(t){var n,r;return r=this,t===""||t==="/"?(t=e.HOME_PAGE,$("ul.nav li.active").removeClass("active"),$("h3.title").html("&nbsp;").removeClass("fade")):($("ul.nav li.active").removeClass("active"),n=t,console.log(t),t.indexOf("/")>0&&(n=t.split("/")[0]),$('ul.nav li[data-target="'+n+'"]').addClass("active"),$("h3.title").html("Aliza Pai").addClass("fade"),t="/"+t),e.AjaxCall(t,null,"json","GET",function(e){return r._pageViewSetModel(e)})},_pageViewSetModel:function(e){return $("#paiContent").html(Mustache.render(e.view,e.payload))}}),function(e){return e.fn.serializeJSON=function(){var t;return t={},jQuery.map(e(this).serializeArray(),function(e,n){return t[e.name]=e.value}),t}}(jQuery),$(document).ready(function(){return e.pageRouter=new e.PageRouter,Backbone.history.start({pushState:!0})})}).call(this);